<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Zumo-Maze-solver: C:/Zumo/Zumo-Maze-solver/zumo_maze.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zumo-Maze-solver
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('zumo__maze_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Modules</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">zumo_maze.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Maze solver library prepared for Freescale KL46Z board and Pololu Zumo Shield.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;MKL46Z4.h&quot;</code><br />
</div>
<p><a href="zumo__maze_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_node_arr__t.html">NodeArr_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer structure for <a class="el" href="zumo__maze_8h.html#ab0de47797b6fb5502a666f8cf12ac9af" title="Buffer for registered actions. ">nodeArr</a> and <a class="el" href="zumo__maze_8h.html#afaa27bd583f4e590934ce203a3b555b0" title="Buffer for orders. ">optimizedNodeArr</a>.  <a href="struct_node_arr__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a15146d4ba4ffa61b670448cd89654440"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a15146d4ba4ffa61b670448cd89654440">MAX_NBR_OF_NODES</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:a15146d4ba4ffa61b670448cd89654440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines how many nodes will be in the maze. In one crossroad can be many nodes (Zumo may reach the same crossroad from different directions).  <a href="#a15146d4ba4ffa61b670448cd89654440">More...</a><br /></td></tr>
<tr class="separator:a15146d4ba4ffa61b670448cd89654440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf95f2c3c632fb628d7af787515e4428"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaaf95f2c3c632fb628d7af787515e4428"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FINISH</b>&#160;&#160;&#160;0x2D</td></tr>
<tr class="separator:gaaf95f2c3c632fb628d7af787515e4428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1edd1ea8bddaf4d9c5eb3eae1ee1726a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1edd1ea8bddaf4d9c5eb3eae1ee1726a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALL</b>&#160;&#160;&#160;0x3F</td></tr>
<tr class="separator:ga1edd1ea8bddaf4d9c5eb3eae1ee1726a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga824fea1f256659e11e6cd8c82cb13338"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga824fea1f256659e11e6cd8c82cb13338"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CENTER</b>&#160;&#160;&#160;0x0C</td></tr>
<tr class="separator:ga824fea1f256659e11e6cd8c82cb13338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga437ef08681e7210d6678427030446a54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga437ef08681e7210d6678427030446a54"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LEFT</b>&#160;&#160;&#160;0x3C</td></tr>
<tr class="separator:ga437ef08681e7210d6678427030446a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80fb826a684cf3f0d306b22aa100ddac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga80fb826a684cf3f0d306b22aa100ddac"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RIGHT</b>&#160;&#160;&#160;0x0F</td></tr>
<tr class="separator:ga80fb826a684cf3f0d306b22aa100ddac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b7cf2a3641be7b89138615764d60ba3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2b7cf2a3641be7b89138615764d60ba3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EMPTY</b>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:ga2b7cf2a3641be7b89138615764d60ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2bbc66102de668efe5e9c7feb23eaa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a2bbc66102de668efe5e9c7feb23eaa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a9a2bbc66102de668efe5e9c7feb23eaa">NODE</a>&#160;&#160;&#160;((<a class="el" href="zumo__led_array_8h.html#abc6bc56488668d7ffba60574c1374144">la_getSensorState</a>() == FINISH)||(<a class="el" href="zumo__led_array_8h.html#abc6bc56488668d7ffba60574c1374144">la_getSensorState</a>() == ALL)||(<a class="el" href="zumo__led_array_8h.html#abc6bc56488668d7ffba60574c1374144">la_getSensorState</a>() == LEFT)||(<a class="el" href="zumo__led_array_8h.html#abc6bc56488668d7ffba60574c1374144">la_getSensorState</a>() == RIGHT)||(<a class="el" href="zumo__led_array_8h.html#abc6bc56488668d7ffba60574c1374144">la_getSensorState</a>() == EMPTY))</td></tr>
<tr class="memdesc:a9a2bbc66102de668efe5e9c7feb23eaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Node definition. <br /></td></tr>
<tr class="separator:a9a2bbc66102de668efe5e9c7feb23eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4bafb4a83e1da39fd7547ca43cff608d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4bafb4a83e1da39fd7547ca43cff608d"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a4bafb4a83e1da39fd7547ca43cff608d">Node_type</a> { <br />
&#160;&#160;<b>DEAD_END</b> = '0', 
<b>FULL_CROSS</b>, 
<b>STRAIGHT_LEFT_CROSS</b>, 
<b>STRAIGHT_RIGHT_CROSS</b>, 
<br />
&#160;&#160;<b>LEFT_RIGHT_CROSS</b>, 
<b>LEFT_TURN</b>, 
<b>RIGHT_TURN</b>, 
<b>MAZE_END</b>
<br />
 }</td></tr>
<tr class="memdesc:a4bafb4a83e1da39fd7547ca43cff608d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerated types of nodes which can be spotted. <br /></td></tr>
<tr class="separator:a4bafb4a83e1da39fd7547ca43cff608d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ed8def336fd0c10c71edf08401c1697"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a6ed8def336fd0c10c71edf08401c1697">zm_calibration</a> (uint8_t speed)</td></tr>
<tr class="memdesc:a6ed8def336fd0c10c71edf08401c1697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function is checking minimum and maximum value from each light sensor while Zumo is turning around.  <a href="#a6ed8def336fd0c10c71edf08401c1697">More...</a><br /></td></tr>
<tr class="separator:a6ed8def336fd0c10c71edf08401c1697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad26fb5ea0b518683021fe8e99c97e244"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#ad26fb5ea0b518683021fe8e99c97e244">zm_driveToNode</a> (uint8_t speed)</td></tr>
<tr class="memdesc:ad26fb5ea0b518683021fe8e99c97e244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function which allows to follow the line until Zumo will reach the node (crossroad, dead end etc. See -&gt; <a class="el" href="zumo__maze_8h.html#a4bafb4a83e1da39fd7547ca43cff608d" title="Enumerated types of nodes which can be spotted. ">Node_type</a>).  <a href="#ad26fb5ea0b518683021fe8e99c97e244">More...</a><br /></td></tr>
<tr class="separator:ad26fb5ea0b518683021fe8e99c97e244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9996a9e5467f2cd928c7d7a1ba6ce1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a1c9996a9e5467f2cd928c7d7a1ba6ce1">zm_checkNode</a> (uint8_t speed)</td></tr>
<tr class="memdesc:a1c9996a9e5467f2cd928c7d7a1ba6ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function checks which type of node is on the road.  <a href="#a1c9996a9e5467f2cd928c7d7a1ba6ce1">More...</a><br /></td></tr>
<tr class="separator:a1c9996a9e5467f2cd928c7d7a1ba6ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9aa38b8471c7329d3bb98d1da62889b"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#aa9aa38b8471c7329d3bb98d1da62889b">zm_nodeReaction</a> (uint8_t node_type, uint8_t speed)</td></tr>
<tr class="memdesc:aa9aa38b8471c7329d3bb98d1da62889b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function performs reaction in node according to left-hand rule (Zumo turns left at intersection when it can turn).  <a href="#aa9aa38b8471c7329d3bb98d1da62889b">More...</a><br /></td></tr>
<tr class="separator:aa9aa38b8471c7329d3bb98d1da62889b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731e13726c4a55312654a175863af530"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a731e13726c4a55312654a175863af530">zm_routeOptimizer</a> (const char *old_route, char *new_route)</td></tr>
<tr class="memdesc:a731e13726c4a55312654a175863af530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function creates the shortest path based on previous.  <a href="#a731e13726c4a55312654a175863af530">More...</a><br /></td></tr>
<tr class="separator:a731e13726c4a55312654a175863af530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67abdf16116ac7b804244626393187d6"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a67abdf16116ac7b804244626393187d6">zm_strictNodeReaction</a> (<a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *node_array, uint8_t node_type, uint8_t speed)</td></tr>
<tr class="memdesc:a67abdf16116ac7b804244626393187d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zumo performs reaction in the node according to external command.  <a href="#a67abdf16116ac7b804244626393187d6">More...</a><br /></td></tr>
<tr class="separator:a67abdf16116ac7b804244626393187d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746835faaff61f1e86039309092366c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a746835faaff61f1e86039309092366c2">zm_clearArray</a> (<a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *node_array)</td></tr>
<tr class="memdesc:a746835faaff61f1e86039309092366c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function puts zeros to buffer.  <a href="#a746835faaff61f1e86039309092366c2">More...</a><br /></td></tr>
<tr class="separator:a746835faaff61f1e86039309092366c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53311b81f6b93fddc9235d4b7a4f353"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#aa53311b81f6b93fddc9235d4b7a4f353">zm_addReaction</a> (char reaction, <a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *node_array)</td></tr>
<tr class="memdesc:aa53311b81f6b93fddc9235d4b7a4f353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function puts one character (movement code) to node buffer. Maximum number of elements is declared in <a class="el" href="zumo__maze_8h.html#a15146d4ba4ffa61b670448cd89654440" title="Defines how many nodes will be in the maze. In one crossroad can be many nodes (Zumo may reach the sa...">MAX_NBR_OF_NODES</a>.  <a href="#aa53311b81f6b93fddc9235d4b7a4f353">More...</a><br /></td></tr>
<tr class="separator:aa53311b81f6b93fddc9235d4b7a4f353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d58bd7c83167a5cee9e3cf3585732d7"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a7d58bd7c83167a5cee9e3cf3585732d7">zm_getReaction</a> (<a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *node_array)</td></tr>
<tr class="memdesc:a7d58bd7c83167a5cee9e3cf3585732d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function getting one character from node buffer.  <a href="#a7d58bd7c83167a5cee9e3cf3585732d7">More...</a><br /></td></tr>
<tr class="separator:a7d58bd7c83167a5cee9e3cf3585732d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f049df0aa368fa23eda6ae9b5164b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#a38f049df0aa368fa23eda6ae9b5164b7">_delay_ms</a> (uint32_t value)</td></tr>
<tr class="memdesc:a38f049df0aa368fa23eda6ae9b5164b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple delay function based on for loop.  <a href="#a38f049df0aa368fa23eda6ae9b5164b7">More...</a><br /></td></tr>
<tr class="separator:a38f049df0aa368fa23eda6ae9b5164b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab0de47797b6fb5502a666f8cf12ac9af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0de47797b6fb5502a666f8cf12ac9af"></a>
<a class="el" href="struct_node_arr__t.html">NodeArr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#ab0de47797b6fb5502a666f8cf12ac9af">nodeArr</a></td></tr>
<tr class="memdesc:ab0de47797b6fb5502a666f8cf12ac9af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for registered actions. <br /></td></tr>
<tr class="separator:ab0de47797b6fb5502a666f8cf12ac9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaa27bd583f4e590934ce203a3b555b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afaa27bd583f4e590934ce203a3b555b0"></a>
<a class="el" href="struct_node_arr__t.html">NodeArr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zumo__maze_8h.html#afaa27bd583f4e590934ce203a3b555b0">optimizedNodeArr</a></td></tr>
<tr class="memdesc:afaa27bd583f4e590934ce203a3b555b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for orders. <br /></td></tr>
<tr class="separator:afaa27bd583f4e590934ce203a3b555b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Maze solver library prepared for Freescale KL46Z board and Pololu Zumo Shield. </p>

<p>Definition in file <a class="el" href="zumo__maze_8h_source.html">zumo_maze.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a15146d4ba4ffa61b670448cd89654440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_NBR_OF_NODES&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines how many nodes will be in the maze. In one crossroad can be many nodes (Zumo may reach the same crossroad from different directions). </p>
<p>Obviously this is only approximation and it should be grater than actual number of nodes. </p><dl class="section warning"><dt>Warning</dt><dd>Do not put here to big value because optimization function is based on recursion and memory problems may occur. </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8h_source.html#l00015">15</a> of file <a class="el" href="zumo__maze_8h_source.html">zumo_maze.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a38f049df0aa368fa23eda6ae9b5164b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _delay_ms </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple delay function based on for loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Time in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Function is not precise. </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00216">216</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa53311b81f6b93fddc9235d4b7a4f353"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zm_addReaction </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>reaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *&#160;</td>
          <td class="paramname"><em>node_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function puts one character (movement code) to node buffer. Maximum number of elements is declared in <a class="el" href="zumo__maze_8h.html#a15146d4ba4ffa61b670448cd89654440" title="Defines how many nodes will be in the maze. In one crossroad can be many nodes (Zumo may reach the sa...">MAX_NBR_OF_NODES</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reaction</td><td>ASCII encoded movement. </td></tr>
    <tr><td class="paramname">node_array</td><td>Pointer to buffer structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00222">222</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6ed8def336fd0c10c71edf08401c1697"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zm_calibration </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function is checking minimum and maximum value from each light sensor while Zumo is turning around. </p>
<p>Best way to calibrate Zumo is to put it on the brightest part of line. You are sure that rest of maze will be identified well. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>Rotation speed from 0 to 100. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Zumo has to be on the line. If you pick up Zumo before it stops calibration, entire process should be restarted. </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00024">24</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1c9996a9e5467f2cd928c7d7a1ba6ce1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t zm_checkNode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function checks which type of node is on the road. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>Zumo velocity in range 0-100. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value is the node type enumerated in ::Event_type </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00112">112</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="a746835faaff61f1e86039309092366c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zm_clearArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *&#160;</td>
          <td class="paramname"><em>node_array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function puts zeros to buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node_array</td><td>Pointer to node buffer structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00016">16</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad26fb5ea0b518683021fe8e99c97e244"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zm_driveToNode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function which allows to follow the line until Zumo will reach the node (crossroad, dead end etc. See -&gt; <a class="el" href="zumo__maze_8h.html#a4bafb4a83e1da39fd7547ca43cff608d" title="Enumerated types of nodes which can be spotted. ">Node_type</a>). </p>
<p>There is software PID controller in the function. It reads light sensors state and manipulates voltage of engines by PWM. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>Zumo velocity in range 0-100. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00038">38</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7d58bd7c83167a5cee9e3cf3585732d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char zm_getReaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *&#160;</td>
          <td class="paramname"><em>node_array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function getting one character from node buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node_array</td><td>Pointer to buffer structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value is the oldest character in buffer. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Function does not check length of node array. </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00228">228</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa9aa38b8471c7329d3bb98d1da62889b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char zm_nodeReaction </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>node_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function performs reaction in node according to left-hand rule (Zumo turns left at intersection when it can turn). </p>
<p>Available reactions </p><ul>
<li>
F - finish (do nothing) </li>
<li>
L - turn left </li>
<li>
R - turn right </li>
<li>
T - turn around </li>
<li>
S - drive straight (do nothing) </li>
<li>
l - left turn (turn left but do not save this reaction) </li>
<li>
r - right turn (turn right but do not save this reaction) </li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node_type</td><td>Type of node where movement will be done. </td></tr>
    <tr><td class="paramname">speed</td><td>Rotation speed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value is the oldest character in buffer. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Function does not check whether buffer is empty. </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00163">163</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="a731e13726c4a55312654a175863af530"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zm_routeOptimizer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>old_route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>new_route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function creates the shortest path based on previous. </p>
<p>Function looks for 'T' reaction and right combination of adjacent values. Rules </p><ul>
<li>
LTR = T </li>
<li>
LTS = R </li>
<li>
RTL = T </li>
<li>
STL = R </li>
<li>
STS = T </li>
<li>
LTL = S </li>
</ul>
<p>Reactions legend in <a class="el" href="zumo__maze_8h.html#aa9aa38b8471c7329d3bb98d1da62889b" title="Function performs reaction in node according to left-hand rule (Zumo turns left at intersection when ...">zm_nodeReaction</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_route</td><td>Pointer to input node buffer </td></tr>
    <tr><td class="paramname">new_route</td><td>Pointer to output (optimized) node buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Function uses recursion. </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00237">237</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
<a class="anchor" id="a67abdf16116ac7b804244626393187d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char zm_strictNodeReaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_node_arr__t.html">NodeArr_t</a> *&#160;</td>
          <td class="paramname"><em>node_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>node_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zumo performs reaction in the node according to external command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node_array</td><td>Pointer to buffer where reactions are saved. </td></tr>
    <tr><td class="paramname">node_type</td><td>Type of node where movement will be done. </td></tr>
    <tr><td class="paramname">speed</td><td>Rotation speed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value is the performed movement saved as ASCII character. Legend in <a class="el" href="zumo__maze_8h.html#aa9aa38b8471c7329d3bb98d1da62889b" title="Function performs reaction in node according to left-hand rule (Zumo turns left at intersection when ...">zm_nodeReaction</a>. </dd></dl>

<p>Definition at line <a class="el" href="zumo__maze_8c_source.html#l00289">289</a> of file <a class="el" href="zumo__maze_8c_source.html">zumo_maze.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_187cade3614a7d6717ec20c39413a03b.html">Zumo</a></li><li class="navelem"><a class="el" href="dir_57a8ae3804c95259bf318aa93fd70fae.html">Zumo-Maze-solver</a></li><li class="navelem"><a class="el" href="zumo__maze_8h.html">zumo_maze.h</a></li>
    <li class="footer">Generated on Sat Feb 28 2015 16:26:03 for Zumo-Maze-solver by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
